<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SweetShopMa.Views.DeveloperSetupPage"
             Title="Developer Setup"
             BackgroundColor="#f5f5f5">

    <VerticalStackLayout 
        Padding="20" 
        Spacing="20" 
        VerticalOptions="Center"
        HorizontalOptions="Center"
        MaximumWidthRequest="400">

        <!-- Navigation + Language Selector -->
        <Grid ColumnDefinitions="Auto,*" Margin="0,0,0,10">
            <Button x:Name="BackButton"
                    Text="Back"
                    BackgroundColor="#f0f4f7"
                    TextColor="#1d7480"
                    Padding="10,6"
                    CornerRadius="6"
                    Clicked="OnBackButtonClicked"
                    HorizontalOptions="Start"/>
            <HorizontalStackLayout Grid.Column="1" HorizontalOptions="End" Spacing="5">
                <Button Text="EN" 
                        BackgroundColor="#1d7480"
                        TextColor="White"
                        Padding="8,5"
                        CornerRadius="4"
                        FontSize="10"
                        Clicked="OnLanguageButtonClicked"/>
                <Button Text="AR" 
                        BackgroundColor="#1d7480"
                        TextColor="White"
                        Padding="8,5"
                        CornerRadius="4"
                        FontSize="10"
                        Clicked="OnLanguageButtonClicked"/>
            </HorizontalStackLayout>
        </Grid>

        <!-- Header -->
        <Label 
            x:Name="HeaderLabel"
            Text="ðŸ‘¤ Create New User" 
            FontSize="28" 
            FontAttributes="Bold" 
            TextColor="#32b8c6"
            HorizontalTextAlignment="Center"/>

        <!-- Name Field -->
        <StackLayout Spacing="8">
            <Label x:Name="FullNameLabel" Text="ðŸ‘¤ Full Name" FontSize="14" FontAttributes="Bold" TextColor="#333"/>
            <Entry 
                x:Name="NameEntry"
                Placeholder="Enter full name"
                BackgroundColor="White"
                FontSize="14"
                ReturnType="Next"
                Completed="OnNameEntryCompleted"/>
        </StackLayout>

        <!-- Username Field -->
        <StackLayout Spacing="8">
            <Label x:Name="UsernameLabel" Text="ðŸ‘¤ Username" FontSize="14" FontAttributes="Bold" TextColor="#333"/>
            <Entry 
                x:Name="UsernameEntry"
                Placeholder="Enter username"
                BackgroundColor="White"
                FontSize="14"
                ReturnType="Next"
                Completed="OnUsernameEntryCompleted"/>
        </StackLayout>

        <!-- Password Field -->
        <StackLayout Spacing="8">
            <Label x:Name="PasswordLabel" Text="ðŸ”’ Password" FontSize="14" FontAttributes="Bold" TextColor="#333"/>
            <Entry 
                x:Name="PasswordEntry"
                IsPassword="True"
                Placeholder="Enter password"
                BackgroundColor="White"
                FontSize="14"
                ReturnType="Go"
                Completed="OnPasswordEntryCompleted"/>
        </StackLayout>

        <!-- Confirm Password Field -->
        <StackLayout Spacing="8">
            <Label x:Name="ConfirmPasswordLabel" Text="ðŸ”’ Confirm Password" FontSize="14" FontAttributes="Bold" TextColor="#333"/>
            <Entry 
                x:Name="ConfirmPasswordEntry"
                IsPassword="True"
                Placeholder="Confirm password"
                BackgroundColor="White"
                FontSize="14"
                ReturnType="Next"
                Completed="OnConfirmPasswordEntryCompleted"/>
        </StackLayout>

        <!-- Salary Field -->
        <StackLayout Spacing="8">
            <Label x:Name="SalaryLabel" Text="ðŸ’° Monthly Salary" FontSize="14" FontAttributes="Bold" TextColor="#333"/>
            <Entry 
                x:Name="SalaryEntry"
                Placeholder="Enter monthly salary"
                BackgroundColor="White"
                FontSize="14"
                Keyboard="Numeric"
                ReturnType="Next"
                Completed="OnSalaryEntryCompleted"/>
        </StackLayout>

        <!-- Role Selection -->
        <StackLayout Spacing="8">
            <Label x:Name="RoleLabel" Text="ðŸ‘‘ Role" FontSize="14" FontAttributes="Bold" TextColor="#333"/>
            <Picker x:Name="RolePicker">
                <!-- ItemsSource will be set dynamically in code-behind for localization -->
            </Picker>
        </StackLayout>

        <!-- Error Message -->
        <Label 
            x:Name="ErrorLabel"
            TextColor="#c00000"
            FontSize="12"
            Padding="10"
            BackgroundColor="#ffe6e6"
            HorizontalTextAlignment="Center"
            IsVisible="False"/>

        <!-- Create Button -->
        <Button 
            x:Name="CreateButton"
            Text="âœ… Create User"
            BackgroundColor="#32b8c6"
            TextColor="White"
            Padding="12"
            CornerRadius="8"
            FontSize="16"
            FontAttributes="Bold"
            Clicked="OnCreateClicked"/>

        <!-- Loading Indicator -->
        <ActivityIndicator 
            x:Name="LoadingIndicator"
            IsRunning="False"
            IsVisible="False"
            Color="#32b8c6"
            Scale="1.5"/>

    </VerticalStackLayout>

</ContentPage>

